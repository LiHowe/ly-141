# 菜单图标使用指南

## 概述

WinmTech-Scada菜单系统现已支持两种类型的图标：文本图标和图片图标。本指南将详细介绍如何配置和使用这些图标。

## 图标类型

### 1. 文本图标（IconType.Text）

文本图标使用字符、Emoji或字体图标来显示。

**优点：**
- 轻量级，无需额外文件
- 缩放性好，适应不同尺寸
- 易于修改和维护

**适用场景：**
- 通用功能图标
- 系统内置功能
- 快速原型开发

**示例配置：**
```json
{
  "Id": "system-settings",
  "Name": "系统设置",
  "Icon": "⚙️",
  "IconType": "Text"
}
```

**常用文本图标：**
- ⚙️ 设置
- 📊 数据/统计
- 🔧 工具
- 📈 趋势
- 👤 用户
- 🔄 更新/刷新
- ⚡ 电力/能源
- 🏭 工厂/设备
- 📋 列表/清单
- 🔔 通知/报警

### 2. 图片图标（IconType.Image）

图片图标使用PNG或JPG图片文件来显示。

**优点：**
- 视觉效果更丰富
- 可以使用品牌定制图标
- 支持复杂的图形设计

**适用场景：**
- 品牌特定功能
- 复杂的业务模块
- 专业的工业图标

**示例配置：**
```json
{
  "Id": "device-management",
  "Name": "设备管理",
  "Icon": "device.png",
  "IconType": "Image"
}
```

## 图片图标规格

### 推荐规格
- **尺寸：** 16x16 或 24x24 像素
- **格式：** PNG（推荐）或 JPG
- **背景：** 透明背景（PNG格式）
- **文件大小：** 小于 10KB
- **颜色：** 适应深色和浅色主题

### 文件路径

系统支持多种路径格式，会自动尝试以下位置：

1. `Resources/Images/图标文件名`
2. `MainApp;component/Resources/Images/图标文件名`
3. 绝对路径（如：`C:\Icons\device.png`）
4. 相对于应用程序目录的路径

**推荐做法：**
将图标文件放在 `MainApp/Resources/Images/` 目录下，然后在配置中只写文件名。

## 配置示例

### 完整的菜单配置示例

```json
{
  "Menus": [
    {
      "Id": "system-settings",
      "Name": "系统设置",
      "Page": "SystemSettings",
      "Role": "Admin",
      "Enabled": true,
      "Icon": "⚙️",
      "IconType": "Text",
      "SortOrder": 1000,
      "ParentId": "",
      "ModuleId": "System"
    },
    {
      "Id": "device-management",
      "Name": "设备管理",
      "Page": "",
      "Role": "User",
      "Enabled": true,
      "Icon": "device.png",
      "IconType": "Image",
      "SortOrder": 100,
      "ParentId": "",
      "ModuleId": "WinmTech.Scada.Module.Device"
    }
  ]
}
```

## 最佳实践

### 1. 图标选择原则
- **一致性：** 同类功能使用相似风格的图标
- **识别性：** 图标应该直观地表达功能含义
- **简洁性：** 避免过于复杂的图标设计
- **适应性：** 考虑在不同背景下的显示效果

### 2. 文件管理
- 将所有图标文件统一放在 `Resources/Images/` 目录
- 使用有意义的文件名（如：`device.png`、`alarm.png`）
- 定期清理未使用的图标文件
- 为图标文件添加版本控制

### 3. 性能优化
- 优化图片文件大小，避免过大的文件
- 使用PNG格式以获得更好的透明度支持
- 考虑使用SVG格式（需要额外的转换器支持）

### 4. 兼容性考虑
- 为每个图片图标准备一个文本图标作为备选
- 测试图标在不同分辨率下的显示效果
- 确保图标在高DPI显示器上清晰显示

## 故障排除

### 图标不显示的常见原因

1. **文件路径错误**
   - 检查文件是否存在于指定路径
   - 确认文件名大小写正确

2. **文件格式不支持**
   - 确保使用PNG或JPG格式
   - 检查文件是否损坏

3. **权限问题**
   - 确保应用程序有读取图标文件的权限

4. **配置错误**
   - 检查JSON配置文件格式是否正确
   - 确认IconType字段值正确（"Text" 或 "Image"）

### 调试方法

1. 查看应用程序调试输出，寻找图标加载错误信息
2. 使用文本图标测试菜单配置是否正确
3. 检查图标文件是否能在其他程序中正常打开

## 更新日志

### v1.0.0 (2025-06-23)
- 初始版本，支持文本图标和图片图标
- 支持PNG和JPG格式
- 自动路径解析功能
- 错误处理和备选方案
