<Window x:Class="UI.Controls.MessageBox"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:hc="https://handyorg.github.io/handycontrol"
        xmlns:loc="clr-namespace:Core.Localization;assembly=Core"
        mc:Ignorable="d"
        Title="消息提示"
        Height="200" Width="400"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize">

    <!-- 引用主题资源 -->
    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="../Themes/Generic.xaml" />
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Border Background="{StaticResource RegionBrush}"
            BorderBrush="{StaticResource BorderBrush}"
            BorderThickness="1"
            CornerRadius="8"
            Margin="10">
        <Border.Effect>
            <DropShadowEffect Color="{StaticResource DarkOpacityColor}"
                              BlurRadius="15"
                              ShadowDepth="5"
                              Opacity="0.3" />
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!-- 标题栏 -->
            <Border Grid.Row="0"
                    x:Name="TitleBar"
                    Background="{StaticResource TitleBarBrush}"
                    CornerRadius="8,8,0,0"
                    Padding="10,5">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!-- 图标 -->
                    <TextBlock x:Name="IconTextBlock"
                               Grid.Column="0"
                               Text="ℹ️"
                               Foreground="{StaticResource PrimaryTextBrush}"
                               FontSize="16"
                               VerticalAlignment="Center"
                               Margin="0,0,10,0" />

                    <!-- 标题 -->
                    <TextBlock x:Name="TitleTextBlock"
                               Grid.Column="1"
                               Text="{loc:Lang Tip}"
                               Foreground="{StaticResource PrimaryTextBrush}"
                               FontWeight="SemiBold"
                               VerticalAlignment="Center" />

                    <!-- 关闭按钮 -->
                    <Button x:Name="CloseButton"
                            Grid.Column="2"
                            hc:IconElement.Geometry="{StaticResource CloseGeometry}"
                            Style="{StaticResource CloseButtonStyle}"
                            hc:BackgroundSwitchElement.MouseHoverBackground="Red"
                            Width="30" Height="30"
                            Visibility="Hidden"
                            Foreground="{StaticResource PrimaryTextBrush}"
                            Click="CloseButton_Click" />
                </Grid>
            </Border>

            <!-- 内容区域 -->
            <ScrollViewer Grid.Row="1"
                          VerticalScrollBarVisibility="Auto"
                          Padding="10">
                <StackPanel>
                    <!-- 消息内容 -->
                    <TextBlock x:Name="MessageTextBlock"
                               TextWrapping="Wrap"
                               Foreground="{StaticResource PrimaryTextBrush}"
                               Text="这是消息内容"
                               Margin="0,0,0,15" />

                    <!-- 详细信息（可选） -->
                    <Expander x:Name="DetailsExpander"
                              Header="详细信息"
                              Foreground="{StaticResource PrimaryTextBrush}"
                              Visibility="Collapsed"
                              Margin="0,10,0,0">
                        <Label x:Name="DetailsTextBlock"
                               Content=""
                               Margin="10" />
                    </Expander>
                </StackPanel>
            </ScrollViewer>

            <!-- 按钮区域 -->
            <Border Grid.Row="2"
                    CornerRadius="0,0,8,8"
                    Padding="10">
                <StackPanel x:Name="ButtonPanel"
                            Orientation="Horizontal"
                            HorizontalAlignment="Right">
                    <!-- 按钮将在代码中动态添加 -->
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>